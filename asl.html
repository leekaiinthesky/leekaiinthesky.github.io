<!DOCTYPE html>
<html>
<head>
  <title>Wang ASL Wall</title>
  <style type="text/css">
    td {
      padding: 0;
    }
    table {
      margin: auto;
      border-collapse: collapse;
      line-height: 0;
    }
  </style>
</head>
<body>

  <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
  <table>
    <tr>
      <td><div id="playerid0"></div></td>
      <td><div id="playerid1"></div></td>
      <td><div id="playerid2"></div></td>
      <td><div id="playerid3"></div></td>
    </tr>
    <tr>
      <td><div id="playerid4"></div></td>
      <td><div id="playerid5"></div></td>
      <td><div id="playerid6"></div></td>
      <td><div id="playerid7"></div></td>
    </tr>
    <tr>
      <td><div id="playerid8"></div></td>
      <td><div id="playerid9"></div></td>
      <td><div id="playerid10"></div></td>
      <td><div id="playerid11"></div></td>
    </tr>
    <tr>
      <td><div id="playerid12"></div></td>
      <td><div id="playerid13"></div></td>
      <td><div id="playerid14"></div></td>
      <td><div id="playerid15"></div></td>
    </tr>
  </table>

  <script>
    function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex ;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }

      return array;
    }

    var videos = ['TtwB7qoxehI', 'BDbBnTG-R-A', 'lgFVzXtf9g4', 'MMlPuucaLYw', 'a04y1iUjK4c', 'tDl5hH0YV3s', 'qBIiLahr8yk', 'HjbcOjlu-3c', '2KJuW_NZrjQ', '8zKZKa2w7vA', 'tkZI8p9PpyA', 'x_NiqKtuWic', 'eoZAlLLQmnQ', 'T7UhhBRnvUY'];

    videos = shuffle(videos);

    // 2. This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads.
    var player;
    function onYouTubeIframeAPIReady() {
      for (i = 0; i < videos.length; ++i) {
        player = new YT.Player('playerid' + i.toString(), {
          height: '200',
          width: '290',
          videoId: videos[i],
          playerVars: { 'loop': true },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }
    }

    // 4. The API will call this function when the video player is ready.
    function onPlayerReady(event) {
      event.target.playVideo();
    }

    // 5. The API calls this function when the player's state changes.
    //    The function indicates that when playing a video (state=1),
    //    the player should play for six seconds and then stop.
    var done = false;
    function onPlayerStateChange(event) {
      event.target.playVideo();
      // if (event.data == YT.PlayerState.PLAYING && !done) {
      //   setTimeout(stopVideo, 6000);
      //   done = true;
      // }
    }
    function stopVideo() {
      player.stopVideo();
    }
  </script>
</body>
</html>